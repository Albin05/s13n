### Q5 Solution: Dict Transformation Pipeline

```python
raw_data = {
    'product_001': {'name': 'Laptop', 'price': 999, 'stock': 5},
    'product_002': {'name': 'Mouse', 'price': 29, 'stock': 0},
    'product_003': {'name': 'Keyboard', 'price': 79, 'stock': 12},
    'product_004': {'name': 'Monitor', 'price': 399, 'stock': 0},
    'product_005': {'name': 'Headset', 'price': 149, 'stock': 8}
}

# 1. In stock only
in_stock = {pid: info for pid, info in raw_data.items() if info['stock'] > 0}
print(f"In stock: {[v['name'] for v in in_stock.values()]}")

# 2. Price map
price_map = {info['name']: info['price'] for info in in_stock.values()}
print(f"Prices: {price_map}")

# 3. Affordable and in stock
affordable = {info['name']: info['price'] for info in in_stock.values() if info['price'] < 200}
print(f"Affordable: {affordable}")

# 4. Total value
total = sum(info['price'] * info['stock'] for info in in_stock.values())
print(f"Total inventory value: ${total:,}")
```
