### Q5 Solution: Student Course Enrollment System

```python
# 1. Enrollment data
enrollments = {
    'Alice': {'Math', 'Physics', 'Chemistry', 'English'},
    'Bob': {'Math', 'Chemistry', 'Biology', 'History'},
    'Charlie': {'Math', 'English', 'Art', 'Music'},
    'Diana': {'Physics', 'Chemistry', 'Biology', 'Math'}
}

# 2. Find common courses
def find_common_courses(*students):
    """Find courses ALL students are taking"""
    if not students:
        return set()
    
    # Start with first student's courses
    common = enrollments[students[0]].copy()
    
    # Intersect with each subsequent student
    for student in students[1:]:
        common = common & enrollments[student]
    
    return common

# 3. Find any courses
def find_any_courses(*students):
    """Find all courses ANY student is taking"""
    all_courses = set()
    
    for student in students:
        all_courses = all_courses | enrollments[student]
    
    return all_courses

# 4. Study group check
def can_form_study_group(students, min_common):
    """Check if students have enough common courses"""
    common = find_common_courses(*students)
    return len(common) >= min_common

# 5. Course statistics
def course_statistics(enrollments):
    """Calculate enrollment statistics"""
    # Count course enrollments
    course_counts = {}
    for student, courses in enrollments.items():
        for course in courses:
            course_counts[course] = course_counts.get(course, 0) + 1
    
    # Total unique courses
    total_courses = len(course_counts)
    
    # Most popular course
    most_popular = max(course_counts.items(), key=lambda x: x[1])
    
    # Students taking most courses
    max_courses = max(len(courses) for courses in enrollments.values())
    top_students = [
        student for student, courses in enrollments.items()
        if len(courses) == max_courses
    ]
    
    return {
        'total_courses': total_courses,
        'most_popular': most_popular,
        'top_students': top_students,
        'max_courses': max_courses
    }

# 6. Analysis
print("Common courses (Alice & Bob):", find_common_courses('Alice', 'Bob'))

# Courses only Diana takes
diana_courses = enrollments['Diana']
other_courses = set()
for student, courses in enrollments.items():
    if student != 'Diana':
        other_courses = other_courses | courses

only_diana = diana_courses - other_courses
print(f"\nCourses only Diana takes: {only_diana}")

# All courses
all_courses = find_any_courses('Alice', 'Bob', 'Charlie', 'Diana')
print(f"\nAll courses: {all_courses}")

# Study group check
can_study = can_form_study_group(['Alice', 'Bob', 'Charlie'], 2)
common = find_common_courses('Alice', 'Bob', 'Charlie')
print(f"\nCan Alice, Bob, Charlie form study group (min 2 common)? {can_study}")
print(f"Common: {common}")

# Statistics
stats = course_statistics(enrollments)
print(f"\nCourse Statistics:")
print(f"  Total unique courses: {stats['total_courses']}")
print(f"  Most popular course: {stats['most_popular'][0]} ({stats['most_popular'][1]} students)")
print(f"  Students with most courses: {', '.join(stats['top_students'])} ({stats['max_courses']} courses each)")
```

**Explanation:**

**Multiple Set Intersection:**
```python
def find_common_courses(*students):
    common = enrollments[students[0]].copy()
    for student in students[1:]:
        common = common & enrollments[student]
    return common
```

This progressively narrows down to courses ALL students share:
```
Alice: {Math, Physics, Chemistry, English}
  & Bob: {Math, Chemistry, Biology, History}
  = {Math, Chemistry}
    & Charlie: {Math, English, Art, Music}
    = {Math}
```

**Multiple Set Union:**
```python
def find_any_courses(*students):
    all_courses = set()
    for student in students:
        all_courses = all_courses | enrollments[student]
    return all_courses
```

Combines all courses from all students.

**Finding Unique to One Person:**
```python
diana_courses - other_courses
```

Courses Diana has that nobody else has.

**Bonus Challenge Solution:**
```python
def suggest_courses(student, enrollments):
    """Suggest courses based on friends' enrollments"""
    student_courses = enrollments[student]
    
    # Collect courses from all other students
    friend_courses = {}
    for other, courses in enrollments.items():
        if other != student:
            for course in courses:
                if course not in student_courses:
                    friend_courses[course] = friend_courses.get(course, 0) + 1
    
    # Return courses taken by 2+ friends
    suggestions = {
        course for course, count in friend_courses.items()
        if count >= 2
    }
    
    return suggestions

suggestions = suggest_courses('Alice', enrollments)
print(f"\nCourse suggestions for Alice: {suggestions}")
# Courses taken by 2+ other students that Alice isn't taking
```

**Real-World Applications:**
- University enrollment systems
- Study group formation
- Course recommendation
- Resource allocation
- Scheduling optimization

---

### Key Takeaways

**Set Operation Summary:**

| Operation | Operator | Method | Description |
|-----------|----------|--------|-------------|
| Union | `\|` | `.union()` | All elements from both |
| Intersection | `&` | `.intersection()` | Common elements |
| Difference | `-` | `.difference()` | In first, not second |
| Symmetric Difference | `^` | `.symmetric_difference()` | In either, not both |

**Common Patterns:**

1. **Remove duplicates:**
```python
unique = list(set(items))
```

2. **Fast membership:**
```python
valid_items = set(valid_list)
if item in valid_items:  # O(1)
```

3. **Find common elements:**
```python
common = set1 & set2
```

4. **Find differences:**
```python
only_in_first = set1 - set2
```

5. **Combine collections:**
```python
all_items = set1 | set2 | set3
```

**Best Practices:**
- Use sets for uniqueness and fast lookups
- Convert to list when order matters
- Use appropriate operation (union, intersection, difference)
- Remember elements must be immutable
- Sets are unordered - don't rely on order
