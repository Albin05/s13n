### Q5: Student Records Manager (5 minutes, Medium Difficulty)

```python
records = {
    'S001': {'name': 'Alice', 'marks': {'Math': 85, 'Science': 92}},
    'S002': {'name': 'Bob', 'marks': {'Math': 78}},
    'S003': {'name': 'Charlie', 'marks': {'Science': 88, 'English': 76}}
}
```

Write functions:
1. `has_subject(student_id, subject)` — check if student has a grade for that subject
2. `add_mark(student_id, subject, score)` — add only if subject not already graded
3. `get_mark(student_id, subject)` — return mark or "Not graded"
4. `common_subjects(id1, id2)` — subjects both students have grades for

**Key Concepts:** Nested key checking, `in` with dict keys
