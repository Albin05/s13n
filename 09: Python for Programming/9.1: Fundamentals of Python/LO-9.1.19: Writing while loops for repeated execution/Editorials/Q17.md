## Problem 17: Bank Account Simulator (Very Hard)

### Solution
```python
balance = 1000
action = ""

while action != "quit":
    print(f"\nBalance: ${balance}")
    print("1. Deposit")
    print("2. Withdraw")
    print("3. Quit")
    action = input("Choose action: ")

    if action == "1":
        amount = float(input("Deposit amount: $"))
        if amount > 0:
            balance += amount
            print(f"Deposited ${amount}")
        else:
            print("Invalid amount")
    elif action == "2":
        amount = float(input("Withdraw amount: $"))
        if amount > 0 and amount <= balance:
            balance -= amount
            print(f"Withdrew ${amount}")
        else:
            print("Invalid amount or insufficient funds")
    elif action == "3":
        action = "quit"
        print("Thank you!")
    else:
        print("Invalid choice")

print(f"Final balance: ${balance}")
```

**Example Output:**
```
Balance: $1000
1. Deposit
2. Withdraw
3. Quit
Choose action: 1
Deposit amount: $500
Deposited $500

Balance: $1500
1. Deposit
2. Withdraw
3. Quit
Choose action: 2
Withdraw amount: $200
Withdrew $200

Balance: $1300
1. Deposit
2. Withdraw
3. Quit
Choose action: 3
Thank you!
Final balance: $1300
```

### Explanation
- Simulate bank account operations
- Loop until user quits
- Validate transactions (positive amounts, sufficient balance)
- Update balance based on operation
- State persists across iterations
- Real-world application pattern
